"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[759],{8759:function(n,e,r){r.r(e),r.d(e,{default:function(){return Nn}});var t,o,i,a,s,c,l,d,u,p,f,x,h,g,b,m,Z,j,v,y,w,P,k,C,z,S,A,E,F,I,L,_=r(2791),q=r(9434),D=r(4270),N=r(3628),T=r(8185),O=r(1509),V=r(168),B=r(6444),Y=B.ZP.label(t||(t=(0,V.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  font-weight: 700;\n  font-size: 12px;\n  color: #333;\n\n  transition: color 300ms ease, font-size 300ms ease;\n\n  :focus-within {\n    color: #000;\n    font-size: 14px;\n  }\n"]))),M=B.ZP.div(o||(o=(0,V.Z)(["\n  position: absolute;\n  top: 55%;\n  left: 10px;\n  transition: color 300ms ease;\n  color: ",";\n"])),(function(n){return n.isEmptyFilter?"#f4442e":"#777"})),U=B.ZP.p(i||(i=(0,V.Z)(["\n  margin-left: 6px;\n  height: 16px;\n"]))),H=B.ZP.input(a||(a=(0,V.Z)(["\n  min-width: 180px;\n  padding: 8px;\n  padding-left: 26px;\n  border: 1px solid #ccc;\n  border-color: 2ecc71;\n  border-radius: 10px;\n  color: #333;\n  outline: none;\n  transition: border-color 300ms ease;\n\n  :hover,\n  :focus {\n    border-color: ",";\n  }\n"])),(function(n){return n.isEmptyFilter?"#f4442e":"#2ecc71"})),K=r(6351),R=r(3329),G=function(){var n=(0,q.v9)(K.AD),e=0===(0,q.v9)(K.Bj).length,r=(0,q.I0)();(0,_.useEffect)((function(){r((0,O.T)(n))}),[n,r]);return(0,R.jsxs)(Y,{children:[(0,R.jsx)(M,{isEmptyFilter:e,children:(0,R.jsx)(T.dVI,{})}),(0,R.jsx)(U,{children:"Find contacts by Name"}),(0,R.jsx)(N.DebounceInput,{element:H,type:"text",value:n,debounceTimeout:500,onChange:function(n){r((0,O.T)(n.target.value))},isEmptyFilter:e})]})},J=r(9439),W=r(8174),$=r(5243),Q=function(){return(0,R.jsx)($.ko,{ariaLabel:"progress-bar-loading",wrapperStyle:{position:"absolute",top:-27,left:-4,borderRadius:"0px",zIndex:1},wrapperClass:"progress-bar-wrapper",borderColor:"",barColor:"rgb(244, 68, 46, 0.6)"})},X=function(){return(0,R.jsx)($.g4,{height:"20",width:"60",radius:"1",color:"#27ae60",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})},nn=function(){return(0,R.jsx)("div",{children:(0,R.jsx)($.s5,{strokeColor:"#fff",strokeWidth:"5",animationDuration:"0.75",width:"60",visible:!0})})},en=r(4942),rn=r(1413),tn=r(2111),on=r.n(tn),an=r(561),sn=(0,B.F4)(s||(s=(0,V.Z)(["\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),cn=(0,B.F4)(c||(c=(0,V.Z)(["\n  from {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  to {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n"]))),ln=B.ZP.li(l||(l=(0,V.Z)(["\n  display: flex;\n"]))),dn=B.ZP.div(d||(d=(0,V.Z)(["\n  font-size: 16px;\n"]))),un=B.ZP.div(u||(u=(0,V.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  min-width: 210px;\n  border: 1px solid #27ae60;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);\n"]))),pn=B.ZP.div(p||(p=(0,V.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 32px;\n  min-height: 32px;\n  font-size: 14px;\n  color: #fff;\n  border-radius: 50%;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);\n  transition: background-color 300ms, color 250ms ease;\n"]))),fn=B.ZP.div(f||(f=(0,V.Z)(["\n  display: flex;\n  align-items: center;\n  padding: 4px 8px;\n  gap: 10px;\n"]))),xn=B.ZP.p(x||(x=(0,V.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n  width: 100%;\n  cursor: pointer;\n"]))),hn=B.ZP.span(h||(h=(0,V.Z)(["\n  font-size: 16px;\n"]))),gn=B.ZP.span(g||(g=(0,V.Z)(["\n  font-size: 12px;\n"]))),bn=B.ZP.a(b||(b=(0,V.Z)(["\n  padding-left: 20px;\n  cursor: default;\n"]))),mn=B.ZP.span(m||(m=(0,V.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  font-size: 14px;\n  background-color: #27ae60;\n  color: #fff;\n  border-radius: 50%;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);\n  transition: background-color 300ms, color 250ms ease;\n  cursor: pointer;\n\n  :hover,\n  :focus {\n    background-color: #2ecc71;\n  }\n"]))),Zn=B.ZP.div(Z||(Z=(0,V.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-top: 1px solid #27ae60;\n  background-color: #e7e7e7;\n  border-radius: 8px;\n  border-top-right-radius: 0;\n  border-top-left-radius: 0;\n  gap: 60px;\n  padding: 8px 8px;\n  animation: "," 300ms ease;\n"])),(function(n){return n.open?cn:sn})),jn=B.ZP.div(j||(j=(0,V.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 2px 4px;\n  gap: 4px;\n  width: 60px;\n  height: 22px;\n  font-size: 14px;\n  background-color: #27ae60;\n  color: #fff;\n  outline: none;\n  border: none;\n  border-radius: 20px;\n  cursor: pointer;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);\n  transition: background-color 300ms, color 250ms ease;\n\n  :hover,\n  :focus {\n    background-color: #fff;\n    color: #27ae60;\n  }\n"]))),vn=B.ZP.button(v||(v=(0,V.Z)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  width: 68px;\n  height: 26px;\n  padding: 6px 4px;\n  font-size: 14px;\n  background-color: #f4442e;\n  color: #fff;\n  outline: none;\n  border: none;\n  border-radius: 20px;\n  cursor: pointer;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);\n  transition: background-color 300ms ease;\n\n  :hover,\n  :focus,\n  :active {\n    background-color: #fff;\n    color: #f4442e;\n  }\n\n  :disabled {\n    background-color: #f4442e;\n    color: #fff;\n  }\n"]))),yn=function(n){var e=n.contact,r=n.selectedContactId,t=n.toggleActions,o=(0,q.v9)(K.Fd),i=(0,q.I0)(),a=(0,_.useState)(!1),s=(0,J.Z)(a,2),c=s[0],l=s[1],d=(0,_.useState)({}),u=(0,J.Z)(d,2),p=u[0],f=u[1],x=e.id,h=e.name,g=e.number,b=r===e.id;(0,_.useEffect)((function(){if(!p[e.id]){var n=function(){var n;do{n="#".concat(Math.floor(16777215*Math.random()).toString(16).padStart(6,"0"));var e=parseInt(n.substring(1,3),10),r=parseInt(n.substring(3,5),16),t=parseInt(n.substring(5,7),8);e<40||r<40||t<40||(n="#".concat((e<<16|r<<8|t).toString(16).padStart(6,"0")))}while(!n);return n}();f((function(r){return(0,rn.Z)((0,rn.Z)({},r),{},(0,en.Z)({},e.id,n))}))}}),[e.id,p]);return(0,R.jsxs)(ln,{children:[(0,R.jsx)("div",{style:{width:"15px",height:"20px"},children:o.includes(x)&&(0,R.jsx)(dn,{children:h.charAt(0)})}),(0,R.jsxs)(un,{children:[(0,R.jsxs)(fn,{children:[(0,R.jsx)(pn,{style:{backgroundColor:p[e.id]},children:h.charAt(0)}),(0,R.jsxs)(xn,{onClick:function(){return t(x)},children:[(0,R.jsx)(hn,{children:(0,R.jsx)(on(),{line:1,element:"span",truncateText:"...",text:h})}),(0,R.jsx)(gn,{children:g})]}),(0,R.jsx)(bn,{href:"tel:".concat(g),title:"Call",children:(0,R.jsx)(mn,{children:(0,R.jsx)(T.SPk,{})})})]}),b&&(0,R.jsxs)(Zn,{children:[(0,R.jsxs)(jn,{children:[(0,R.jsx)(T.jox,{}),"Edit"]}),(0,R.jsxs)(vn,{type:"button",disabled:c,onClick:function(){return n=e.id,l(!0),void i((0,an.GK)(n)).finally((function(){l(!1)}));var n},children:[(0,R.jsx)(T.qT8,{}),c&&(0,R.jsx)(Q,{}),"Delete"]})]})]})]})},wn=B.ZP.section(y||(y=(0,V.Z)(["\n  padding: 30px 0;\n"]))),Pn=B.ZP.ul(w||(w=(0,V.Z)(["\n  padding: 0;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n"]))),kn=B.ZP.div(P||(P=(0,V.Z)(["\ndisplay: flex;\njustify-content: center;\n  padding-top: 10px;\n  margin: 0;\n  height: 30px;\n"]))),Cn=B.ZP.div(k||(k=(0,V.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgb(247, 247, 247, 0.3);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  backdrop-filter: blur(4px);\n"]))),zn=B.ZP.p(C||(C=(0,V.Z)(["\n  padding: 0;\n  margin: 20px;\n  font-size: 24px;\n  text-align: center;\n"]))),Sn=function(){var n=(0,q.v9)(K.VO),e=(0,q.v9)(K.eH),r=(0,q.v9)(K.Bj),t=(0,q.v9)(K.el),o=(0,_.useState)(!1),i=(0,J.Z)(o,2),a=i[0],s=i[1],c=(0,_.useState)(!1),l=(0,J.Z)(c,2),d=l[0],u=l[1],p=(0,_.useState)(null),f=(0,J.Z)(p,2),x=f[0],h=f[1],g=(0,q.I0)(),b=t.length,m=0===r.length;(0,_.useEffect)((function(){s(!0),g((0,an.yF)()).finally((function(){s(!1),u(!0)}))}),[g]),(0,_.useEffect)((function(){e&&W.Am.error(e)}),[e]);var Z=function(n){h((function(e){return e===n?null:n}))};return a?(0,R.jsx)(Cn,{children:(0,R.jsx)(nn,{})}):0===b&&d&&!e?(0,R.jsx)(zn,{children:"Please add your first contact"}):b>0&&m?(0,R.jsx)(zn,{children:"No matching contacts"}):(0,R.jsxs)(wn,{children:[(0,R.jsx)(kn,{children:n&&d&&(0,R.jsx)(X,{})}),!m&&(0,R.jsx)(Pn,{children:r.map((function(n){return(0,R.jsx)(yn,{contact:n,selectedContactId:x,toggleActions:Z},n.id)}))})]})},An=B.ZP.div(z||(z=(0,V.Z)(["\n  margin-bottom: 30px;\n"]))),En=B.ZP.form(S||(S=(0,V.Z)(["\n  display: flex;\n  gap: 10px;\n  flex-direction: column;\n"]))),Fn=B.ZP.label(A||(A=(0,V.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  font-weight: 700;\n  font-size: 12px;\n  color: #333;\n  transition: color 300ms ease;\n  transition: font-size 300ms ease;\n\n  :focus-within {\n    color: #000;\n    font-size: 14px;\n  }\n"]))),In=B.ZP.div(E||(E=(0,V.Z)(["\n  position: absolute;\n  top: 55%;\n  left: 10px;\n  transition: color 300ms ease;\n  color: #777;\n"]))),Ln=B.ZP.span(F||(F=(0,V.Z)(["\n  margin-left: 6px;\n  height: 16px;\n"]))),_n=B.ZP.input(I||(I=(0,V.Z)(["\n  min-width: 180px;\n  padding: 8px;\n  padding-left: 26px;\n  border: 1px solid #ccc;\n  border-radius: 10px;\n  color: #333;\n  outline: none;\n  transition: border-color 300ms ease;\n\n  :hover,\n  :focus {\n    border-color: #27ae60;\n  }\n\n  :not(:placeholder-shown):required:valid {\n    border-color: #27ae60;\n  }\n\n  :not(:placeholder-shown):required:invalid {\n    border-color: #f4442e;\n  }\n\n  ::placeholder {\n    color: #777;\n  }\n"]))),qn=B.ZP.button(L||(L=(0,V.Z)(["\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 5px;\n  width: 100%;\n  padding: 10px;\n  background-color: #27ae60;\n  color: #fff;\n  outline: none;\n  border: none;\n  border-radius: 10px;\n  cursor: ",";\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);\n  transition: background-color 300ms ease;\n\n  :hover,\n  :focus {\n    background-color: ",";\n  }\n"])),(function(n){return n.isLoading?"not-allowed":"pointer"}),(function(n){return n.isLoading?"#27ae60":"#2ecc71"}));var Dn=function(){var n=(0,q.v9)(K.VO),e=(0,q.I0)(),r=(0,_.useState)(""),t=(0,J.Z)(r,2),o=t[0],i=t[1],a=(0,_.useState)(""),s=(0,J.Z)(a,2),c=s[0],l=s[1],d=function(n){var e=n.currentTarget,r=e.name,t=e.value;switch(r){case"name":i(t.replace(/(^|\s)\S/g,(function(n){return n.toUpperCase()})));break;case"number":l(t);break;default:return}};return(0,R.jsx)(An,{children:(0,R.jsxs)(En,{onSubmit:function(n){n.preventDefault(),e((0,an.uK)({name:o,number:c})),i(""),l("")},children:[(0,R.jsxs)(Fn,{children:[(0,R.jsx)(In,{children:(0,R.jsx)(T.im1,{})}),(0,R.jsx)(Ln,{children:"Name"}),(0,R.jsx)(_n,{type:"text",value:o,name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0491\u0490\u0454\u0404\u0456\u0406\u0457\u0407]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f\u0491\u0490\u0454\u0404\u0456\u0406\u0457\u0407 ])?[a-zA-Z\u0430-\u044f\u0410-\u042f\u0491\u0490\u0454\u0404\u0456\u0406\u0457\u0407]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"Enter name",onChange:d})]}),(0,R.jsxs)(Fn,{children:[(0,R.jsx)(In,{children:(0,R.jsx)(T.UZE,{})}),(0,R.jsx)(Ln,{children:"Number"}),(0,R.jsx)(_n,{type:"tel",value:c,name:"number",pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"Enter phone number",onChange:d})]}),(0,R.jsx)(qn,{type:"submit",isLoading:n,disabled:n,children:"Add contact"})]})})};function Nn(){var n=(0,q.I0)(),e=(0,q.v9)(K.VO);return(0,_.useEffect)((function(){n((0,an.yF)())}),[n]),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(D.q,{children:(0,R.jsx)("title",{children:"Contacts"})}),(0,R.jsx)(Dn,{}),(0,R.jsx)(G,{}),(0,R.jsx)("div",{children:e&&"Request in progress..."}),(0,R.jsx)(Sn,{})]})}},6351:function(n,e,r){r.d(e,{AD:function(){return l},Bj:function(){return d},Fd:function(){return u},VO:function(){return s},eH:function(){return c},el:function(){return i}});var t=r(3433),o=r(6916),i=function(n){return n.contacts.items},a=(0,o.P1)(i,(function(n){return(0,t.Z)(n).sort((function(n,e){return n.name.localeCompare(e.name)}))})),s=function(n){return n.contacts.isLoading},c=function(n){return n.contacts.error},l=function(n){return n.filter},d=(0,o.P1)([a,l],(function(n,e){var r=e.toLowerCase();return n.filter((function(n){return n.name.toLowerCase().includes(r)}))})),u=(0,o.P1)([d],(function(n){var e={};return n.forEach((function(n){var r=n.name.charAt(0).toUpperCase();e[r]||(e[r]=n.id)})),Object.values(e)}))}}]);
//# sourceMappingURL=759.7fe0e286.chunk.js.map